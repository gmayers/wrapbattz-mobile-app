{"swagger": "2.0", "info": {"title": "Device Management API", "description": "API for managing devices, assignments, and related resources", "termsOfService": "https://www.example.com/terms/", "contact": {"email": "support@example.com"}, "license": {"name": "BSD License"}, "version": "v1"}, "host": "webportal.battwrapz.com", "schemes": ["https"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Basic": {"type": "basic"}}, "security": [{"Basic": []}], "paths": {"/auth/password-change/change_password/": {"post": {"operationId": "auth_password-change_change_password", "description": "Change the authenticated user's password.\nRequires current password and validates new password.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PasswordChange"}}], "responses": {"200": {"description": "Password changed successfully", "schema": {"type": "object", "properties": {"detail": {"type": "string"}}}}, "400": {"description": "Bad Request"}}, "tags": ["auth"]}, "parameters": []}, "/auth/password/reset/": {"post": {"operationId": "auth_password_reset", "description": "ViewSet for initiating the password reset process using django-allauth.\nAccepts POST requests with an email address and sends reset email if the account exists.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PasswordReset"}}], "responses": {"200": {"description": "Password reset email sent if the account exists", "schema": {"type": "object", "properties": {"detail": {"type": "string"}}}}, "400": {"description": "Bad Request"}}, "tags": ["auth"]}, "parameters": []}, "/auth/register/": {"post": {"operationId": "auth_register", "description": "ViewSet for user registration.\nAllows registration with optional organization invite code.\nTriggers account confirmation via email instead of direct account creation.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserRegistration"}}], "responses": {"201": {"description": "Account confirmation email sent successfully", "schema": {"type": "object", "properties": {"detail": {"type": "string"}}}}, "400": {"description": "Bad Request"}}, "tags": ["auth"]}, "parameters": []}, "/auth/token/": {"post": {"operationId": "auth_token_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/MyTokenObtainPair"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/MyTokenObtainPair"}}}, "tags": ["auth"]}, "parameters": []}, "/auth/token/refresh/": {"post": {"operationId": "auth_token_refresh_create", "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenRefresh"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenRefresh"}}}, "tags": ["auth"]}, "parameters": []}, "/billing/activate-free-tier/": {"post": {"operationId": "billing_activate-free-tier_create", "summary": "Activate free tier for organization", "description": "Request body:\n- organization_id: Optional, defaults to user's organization", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/analytics/": {"get": {"operationId": "billing_analytics_list", "description": "Get billing analytics summary", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/calculate-cost/": {"get": {"operationId": "billing_calculate-cost_list", "description": "Get cost calculation for different scenarios", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/confirm-payment-method/": {"post": {"operationId": "billing_confirm-payment-method_create", "description": "Confirm and attach payment method", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/create-subscription/": {"post": {"operationId": "billing_create-subscription_create", "summary": "Create a new subscription with payment method", "description": "Request body:\n- organization_id: Optional, defaults to user's organization\n- plan_slug: Required subscription plan slug\n- payment_method_id: Required Stripe payment method ID (token)\n- device_count: Optional device count for initial billing", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/customer-portal/": {"post": {"operationId": "billing_customer-portal_create", "description": "Create customer portal session", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/invoices/": {"get": {"operationId": "billing_invoices_list", "description": "ViewSet for invoice information\nRead-only access to invoice data from dj-stripe", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DjStripeInvoice"}}}}, "tags": ["billing"]}, "parameters": []}, "/billing/invoices/{djstripe_id}/": {"get": {"operationId": "billing_invoices_read", "description": "ViewSet for invoice information\nRead-only access to invoice data from dj-stripe", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DjStripeInvoice"}}}, "tags": ["billing"]}, "parameters": [{"name": "djstripe_id", "in": "path", "required": true, "type": "string"}]}, "/billing/invoices/{djstripe_id}/download_url/": {"get": {"operationId": "billing_invoices_download_url", "description": "Get invoice PDF download URL", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DjStripeInvoice"}}}, "tags": ["billing"]}, "parameters": [{"name": "djstripe_id", "in": "path", "required": true, "type": "string"}]}, "/billing/notification-preferences/": {"get": {"operationId": "billing_notification-preferences_list", "description": "Get current notification preferences", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "put": {"operationId": "billing_notification-preferences_update", "description": "Update notification preferences", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/payment-history/": {"get": {"operationId": "billing_payment-history_list", "description": "Get payment history for user's organization", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/payment-methods/": {"get": {"operationId": "billing_payment-methods_list", "description": "ViewSet for payment methods\nUses tokens only - no card data on our servers", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/PaymentMethod"}}}}, "tags": ["billing"]}, "post": {"operationId": "billing_payment-methods_create", "description": "ViewSet for payment methods\nUses tokens only - no card data on our servers", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PaymentMethod"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/PaymentMethod"}}}, "tags": ["billing"]}, "parameters": []}, "/billing/payment-methods/{djstripe_id}/": {"get": {"operationId": "billing_payment-methods_read", "description": "ViewSet for payment methods\nUses tokens only - no card data on our servers", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/PaymentMethod"}}}, "tags": ["billing"]}, "put": {"operationId": "billing_payment-methods_update", "description": "ViewSet for payment methods\nUses tokens only - no card data on our servers", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PaymentMethod"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/PaymentMethod"}}}, "tags": ["billing"]}, "patch": {"operationId": "billing_payment-methods_partial_update", "description": "ViewSet for payment methods\nUses tokens only - no card data on our servers", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/PaymentMethod"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/PaymentMethod"}}}, "tags": ["billing"]}, "delete": {"operationId": "billing_payment-methods_delete", "description": "Remove a payment method", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["billing"]}, "parameters": [{"name": "djstripe_id", "in": "path", "required": true, "type": "string"}]}, "/billing/plans/": {"get": {"operationId": "billing_plans_list", "description": "List available subscription plans", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/SubscriptionPlan"}}}}, "tags": ["billing"]}, "parameters": []}, "/billing/setup-intent/": {"post": {"operationId": "billing_setup-intent_create", "description": "Create a SetupIntent", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/": {"get": {"operationId": "billing_subscriptions_list", "description": "ViewSet for subscription information\nRead-only access to subscription data from dj-stripe", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/LocalSubscription"}}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/cancel_subscription/": {"post": {"operationId": "billing_subscriptions_cancel_subscription", "description": "Cancel organization's subscription", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/LocalSubscription"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/LocalSubscription"}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/djstripe/": {"get": {"operationId": "billing_subscriptions_djstripe", "description": "Get subscription from dj-stripe models", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/LocalSubscription"}}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/reactivate_subscription/": {"post": {"operationId": "billing_subscriptions_reactivate_subscription", "description": "Reactivate a cancelled subscription (only if still within period)", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/LocalSubscription"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/LocalSubscription"}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/switch_plan/": {"post": {"operationId": "billing_subscriptions_switch_plan", "description": "Switch to a different subscription plan", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/LocalSubscription"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/LocalSubscription"}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/update_device_count/": {"post": {"operationId": "billing_subscriptions_update_device_count", "description": "Manually sync device count with Stripe (useful for testing)", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/LocalSubscription"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/LocalSubscription"}}}, "tags": ["billing"]}, "parameters": []}, "/billing/subscriptions/{id}/": {"get": {"operationId": "billing_subscriptions_read", "description": "Get subscription details", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/LocalSubscription"}}}, "tags": ["billing"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/billing/subscriptions/{subscription_id}/update-devices/": {"patch": {"operationId": "billing_subscriptions_update-devices_partial_update", "summary": "Update device count and sync with Stripe", "description": "Request body:\n- device_count: Required new device count", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": [{"name": "subscription_id", "in": "path", "required": true, "type": "string"}]}, "/billing/update-devices/": {"patch": {"operationId": "billing_update-devices_partial_update", "summary": "Update device count and sync with Stripe", "description": "Request body:\n- device_count: Required new device count", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/billing/usage/": {"get": {"operationId": "billing_usage_list", "description": "Get billing usage summary", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["billing"]}, "parameters": []}, "/device-assignments/": {"get": {"operationId": "device-assignments_list", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "post": {"operationId": "device-assignments_create", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "parameters": []}, "/device-assignments/available_devices/": {"get": {"operationId": "device-assignments_available_devices", "description": "Returns only devices that are currently available for assignment.\nMoved from DeviceViewSet to consolidate assignment-related operations.\nFilters devices with status='available' and those assigned to a location.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": []}, "/device-assignments/device/{device_id}/assign-to-me/": {"post": {"operationId": "device-assignments_device_assign_to_me", "description": "Allows a user to assign a device directly to themselves.\nMoved from DeviceViewSet to consolidate assignment-related operations.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "parameters": [{"name": "device_id", "in": "path", "required": true, "type": "string"}]}, "/device-assignments/device/{device_id}/assign/": {"post": {"operationId": "device-assignments_device_assign_device", "description": "Create a new assignment for a device by its ID.\nPrevious assignment (if any) will be automatically marked as returned.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/DeviceAssignment"}}, "400": {"description": "Bad Request"}, "404": {"description": "Device Not Found"}}, "tags": ["device-assignments"]}, "parameters": [{"name": "device_id", "in": "path", "required": true, "type": "string"}]}, "/device-assignments/device/{device_id}/history/": {"get": {"operationId": "device-assignments_device_device_history", "description": "Returns the assignment history for a specific device.\nMoved from DeviceViewSet to consolidate assignment-related operations.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": [{"name": "device_id", "in": "path", "required": true, "type": "string"}]}, "/device-assignments/identifier/{identifier}/assign/": {"post": {"operationId": "device-assignments_identifier_assign_by_identifier", "description": "Create a new assignment for a device by its identifier.\nPrevious assignment (if any) will be automatically marked as returned.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/DeviceAssignment"}}, "400": {"description": "Bad Request"}, "404": {"description": "Device Not Found"}}, "tags": ["device-assignments"]}, "parameters": [{"name": "identifier", "in": "path", "required": true, "type": "string"}]}, "/device-assignments/location/{location_id}/": {"get": {"operationId": "device-assignments_location", "description": "Returns all device assignments for a specific location.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": [{"name": "location_id", "in": "path", "required": true, "type": "string"}]}, "/device-assignments/my_active_assignments/": {"get": {"operationId": "device-assignments_my_active_assignments", "description": "Returns only active device assignments for the current user.\nConvenience endpoint that's equivalent to my_assignments/?active=true", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": []}, "/device-assignments/my_assignments/": {"get": {"operationId": "device-assignments_my_assignments", "description": "Returns all device assignments for the current user.\nIncludes both active (returned_date is null) and historical assignments.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": []}, "/device-assignments/organization/": {"get": {"operationId": "device-assignments_organization", "description": "Returns all device assignments within the user's organization(s).", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DeviceAssignment"}}}}, "tags": ["device-assignments"]}, "parameters": []}, "/device-assignments/{id}/": {"get": {"operationId": "device-assignments_read", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "put": {"operationId": "device-assignments_update", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "patch": {"operationId": "device-assignments_partial_update", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "delete": {"operationId": "device-assignments_delete", "description": "ViewSet for DeviceAssignment model operations.\n- Any authenticated user can create assignments\n- Users can only modify their own assignments\n- Organization admins/owners can modify any assignment\n\nProvides endpoints for:\n- Listing all assignments in user's organization\n- Retrieving specific assignments\n- Listing assignments by location\n- Creating assignments by device ID or identifier\n- Listing user's own assignments\n- Returning devices to a location\n- Viewing device assignment history\n- Assigning a device to the current user", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["device-assignments"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this device assignment.", "required": true, "type": "integer"}]}, "/device-assignments/{id}/return_to_location/": {"post": {"operationId": "device-assignments_return_to_location", "description": "Returns a device to a specified location.\nCloses the current assignment and creates a new one for the location.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DeviceAssignment"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/DeviceAssignment"}}}, "tags": ["device-assignments"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this device assignment.", "required": true, "type": "integer"}]}, "/device-photos/": {"get": {"operationId": "device-photos_list", "description": "ViewSet for DevicePhotos model operations.\nProvides create and read-only access to device photos.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/DevicePhotos"}}}}, "tags": ["device-photos"]}, "post": {"operationId": "device-photos_create", "description": "ViewSet for DevicePhotos model operations.\nProvides create and read-only access to device photos.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/DevicePhotos"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/DevicePhotos"}}}, "tags": ["device-photos"]}, "parameters": []}, "/device-photos/{id}/": {"get": {"operationId": "device-photos_read", "description": "ViewSet for DevicePhotos model operations.\nProvides create and read-only access to device photos.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/DevicePhotos"}}}, "tags": ["device-photos"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this device photos.", "required": true, "type": "integer"}]}, "/devices/": {"get": {"operationId": "devices_list", "description": "ViewSet for Device model operations.\n- Organization owners/admins can view all devices\n- Site workers can only see devices assigned to them or available at their locations\n- Handles device creation with optional location assignment in a single request\n\nSimplified to only provide core device functionality:\n- List devices (GET /devices/)\n- Retrieve a device (GET /devices/{id}/)\n- Create a device (POST /devices/)", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Device"}}}}, "tags": ["devices"]}, "post": {"operationId": "devices_create", "description": "Override the create method to handle both device creation and location assignment.\nSupports mobile app format with next_maintenance_date (DD/MM/YYYY) instead of next_maintenance.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Device"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Device"}}}, "tags": ["devices"]}, "parameters": []}, "/devices/{id}/": {"get": {"operationId": "devices_read", "description": "ViewSet for Device model operations.\n- Organization owners/admins can view all devices\n- Site workers can only see devices assigned to them or available at their locations\n- Handles device creation with optional location assignment in a single request\n\nSimplified to only provide core device functionality:\n- List devices (GET /devices/)\n- Retrieve a device (GET /devices/{id}/)\n- Create a device (POST /devices/)", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Device"}}}, "tags": ["devices"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this device.", "required": true, "type": "integer"}]}, "/locations/": {"get": {"operationId": "locations_list", "description": "ViewSet for Location model operations.\nProvides create, read-only, and patch access to location data.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Location"}}}}, "tags": ["locations"]}, "post": {"operationId": "locations_create", "description": "ViewSet for Location model operations.\nProvides create, read-only, and patch access to location data.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Location"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Location"}}}, "tags": ["locations"]}, "parameters": []}, "/locations/{id}/": {"get": {"operationId": "locations_read", "description": "ViewSet for Location model operations.\nProvides create, read-only, and patch access to location data.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Location"}}}, "tags": ["locations"]}, "patch": {"operationId": "locations_partial_update", "description": "ViewSet for Location model operations.\nProvides create, read-only, and patch access to location data.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Location"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Location"}}}, "tags": ["locations"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this location.", "required": true, "type": "integer"}]}, "/mobile/feature-suggestions/": {"post": {"operationId": "mobile_feature-suggestions_create", "description": "API endpoint that allows mobile app users to submit feature suggestions\nwithout requiring login. Protected by API key authentication.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/FeatureSuggestion"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/FeatureSuggestion"}}}, "tags": ["mobile"]}, "parameters": []}, "/organization-members/": {"get": {"operationId": "organization-members_list", "description": "ViewSet for OrganizationMember model operations.\nProvides read-only access to organization membership data.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/OrganizationMember"}}}}, "tags": ["organization-members"]}, "parameters": []}, "/organization-members/{id}/": {"get": {"operationId": "organization-members_read", "description": "ViewSet for OrganizationMember model operations.\nProvides read-only access to organization membership data.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/OrganizationMember"}}}, "tags": ["organization-members"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this organization member.", "required": true, "type": "integer"}]}, "/organizations/": {"post": {"operationId": "organizations_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Organization"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Organization"}}}, "tags": ["organizations"]}, "parameters": []}, "/profile/{id}/": {"get": {"operationId": "profile_read", "description": "Retrieve the current user's profile", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "403": {"description": "Forbidden"}}, "tags": ["profile"]}, "patch": {"operationId": "profile_partial_update", "description": "Update the current user's profile", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfile"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}, "400": {"description": "Bad Request"}, "403": {"description": "Forbidden"}}, "tags": ["profile"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this user.", "required": true, "type": "integer"}]}, "/reports/": {"get": {"operationId": "reports_list", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Report"}}}}, "tags": ["reports"]}, "post": {"operationId": "reports_create", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Report"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Report"}}}, "tags": ["reports"]}, "parameters": []}, "/reports/my_reports/": {"get": {"operationId": "reports_my_reports", "description": "Returns all reports created by the current user.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Report"}}}}, "tags": ["reports"]}, "parameters": []}, "/reports/{id}/": {"get": {"operationId": "reports_read", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Report"}}}, "tags": ["reports"]}, "put": {"operationId": "reports_update", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Report"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Report"}}}, "tags": ["reports"]}, "patch": {"operationId": "reports_partial_update", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Report"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Report"}}}, "tags": ["reports"]}, "delete": {"operationId": "reports_delete", "description": "ViewSet for Report model operations.\n- Any authenticated user can create reports\n- Organization members can view reports\n- Users can edit their own reports if status is 'PENDING' or 'IN_PROGRESS'\n- Users can delete their own reports if status is 'PENDING'\n- Admins/owners can modify any report", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["reports"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this report.", "required": true, "type": "integer"}]}, "/support/": {"get": {"operationId": "support_list", "description": "API endpoint for support requests.\n- POST: Create a new support request (authenticated or anonymous)\n- GET: List user's support requests (authenticated only)\n- GET /{id}: Retrieve specific support request (authenticated only, own requests)", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/SupportRequest"}}}}, "tags": ["support"]}, "post": {"operationId": "support_create", "description": "Create a new support request", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SupportRequest"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/SupportRequest"}}}, "tags": ["support"]}, "parameters": []}, "/support/{id}/": {"get": {"operationId": "support_read", "description": "API endpoint for support requests.\n- POST: Create a new support request (authenticated or anonymous)\n- GET: List user's support requests (authenticated only)\n- GET /{id}: Retrieve specific support request (authenticated only, own requests)", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SupportRequest"}}}, "tags": ["support"]}, "put": {"operationId": "support_update", "description": "API endpoint for support requests.\n- POST: Create a new support request (authenticated or anonymous)\n- GET: List user's support requests (authenticated only)\n- GET /{id}: Retrieve specific support request (authenticated only, own requests)", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SupportRequest"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SupportRequest"}}}, "tags": ["support"]}, "patch": {"operationId": "support_partial_update", "description": "API endpoint for support requests.\n- POST: Create a new support request (authenticated or anonymous)\n- GET: List user's support requests (authenticated only)\n- GET /{id}: Retrieve specific support request (authenticated only, own requests)", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/SupportRequest"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/SupportRequest"}}}, "tags": ["support"]}, "delete": {"operationId": "support_delete", "description": "API endpoint for support requests.\n- POST: Create a new support request (authenticated or anonymous)\n- GET: List user's support requests (authenticated only)\n- GET /{id}: Retrieve specific support request (authenticated only, own requests)", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["support"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}}, "definitions": {"PasswordChange": {"required": ["current_password", "new_password", "new_password_confirm"], "type": "object", "properties": {"current_password": {"title": "Current password", "type": "string", "minLength": 1}, "new_password": {"title": "New password", "type": "string", "minLength": 1}, "new_password_confirm": {"title": "New password confirm", "type": "string", "minLength": 1}}}, "PasswordReset": {"required": ["email"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "format": "email", "minLength": 1}}}, "UserRegistration": {"required": ["email", "password", "password2", "first_name", "last_name"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "format": "email", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}, "password2": {"title": "Password2", "type": "string", "minLength": 1}, "first_name": {"title": "First name", "type": "string", "minLength": 1}, "last_name": {"title": "Last name", "type": "string", "minLength": 1}, "organization_invite_code": {"title": "Organization invite code", "type": "string"}, "phone_number": {"title": "Phone number", "type": "string"}}}, "MyTokenObtainPair": {"required": ["email", "password"], "type": "object", "properties": {"email": {"title": "Email", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "TokenRefresh": {"required": ["refresh"], "type": "object", "properties": {"refresh": {"title": "Refresh", "type": "string", "minLength": 1}, "access": {"title": "Access", "type": "string", "readOnly": true, "minLength": 1}}}, "DjStripeInvoice": {"type": "object", "properties": {"id": {"title": "Id", "type": "string", "readOnly": true, "minLength": 1}, "number": {"title": "Number", "description": "A unique, identifying string that appears on emails sent to the customer for this invoice. This starts with the customer's unique invoice_prefix if it is specified.", "type": "string", "readOnly": true, "minLength": 1}, "status": {"title": "Status", "description": "The status of the invoice, one of draft, open, paid, uncollectible, or void.", "type": "string", "enum": ["draft", "open", "paid", "uncollectible", "void"], "readOnly": true}, "created": {"title": "Created", "description": "The datetime this object was created in stripe.", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "due_date": {"title": "Due date", "description": "The date on which payment for this invoice is due. This value will be null for invoices where billing=charge_automatically.", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "period_start": {"title": "Period start", "description": "Start of the usage period during which invoice items were added to this invoice.", "type": "string", "format": "date-time", "readOnly": true}, "period_end": {"title": "Period end", "description": "End of the usage period during which invoice items were added to this invoice.", "type": "string", "format": "date-time", "readOnly": true}, "total": {"title": "Total (as decimal) after discount.", "type": "string", "format": "decimal", "readOnly": true}, "subtotal": {"title": "Subtotal", "description": "Total (as decimal) of all subscriptions, invoice items, and prorations on the invoice before any discount or tax is applied.", "type": "string", "format": "decimal", "readOnly": true}, "amount_due": {"title": "Amount due", "description": "Final amount due (as decimal) at this time for this invoice. If the invoice's total is smaller than the minimum charge amount, for example, or if there is account credit that can be applied to the invoice, the amount_due may be 0. If there is a positive starting_balance for the invoice (the customer owes money), the amount_due will also take that into account. The charge that gets generated for the invoice will be for the amount specified in amount_due.", "type": "string", "format": "decimal", "readOnly": true}, "amount_paid": {"title": "Amount paid", "description": "The amount, (as decimal), that was paid.", "type": "string", "format": "decimal", "readOnly": true, "x-nullable": true}, "currency": {"title": "Currency", "description": "Three-letter ISO currency code", "type": "string", "readOnly": true, "minLength": 1}, "hosted_invoice_url": {"title": "Hosted invoice url", "description": "The URL for the hosted invoice page, which allows customers to view and pay an invoice. If the invoice has not been frozen yet, this will be null.", "type": "string", "readOnly": true, "minLength": 1}, "invoice_pdf": {"title": "Invoice pdf", "type": "string", "readOnly": true, "minLength": 1}, "total_display": {"title": "Total display", "type": "string", "readOnly": true}, "amount_due_display": {"title": "Amount due display", "type": "string", "readOnly": true}, "amount_paid_display": {"title": "Amount paid display", "type": "string", "readOnly": true}}}, "PaymentMethod": {"type": "object", "properties": {"id": {"title": "Id", "type": "string", "readOnly": true, "minLength": 1}, "type": {"title": "Type", "description": "The type of the PaymentMethod.", "type": "string", "enum": ["acss_debit", "affirm", "afterpay_clearpay", "alipay", "au_becs_debit", "bacs_debit", "bancontact", "blik", "boleto", "card", "card_present", "cashapp", "customer_balance", "eps", "fpx", "giropay", "grabpay", "ideal", "interac_present", "klarna", "konbini", "link", "oxxo", "p24", "paynow", "paypal", "pix", "promptpay", "sepa_debit", "sofort", "us_bank_account", "wechat_pay", "zip"], "readOnly": true}, "billing_details": {"title": "Billing details", "description": "Billing information associated with the PaymentMethod that may be used or required by particular types of payment methods.", "type": "object", "readOnly": true}, "created": {"title": "Created", "description": "The datetime this object was created in stripe.", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "display_brand": {"title": "Display brand", "type": "string", "readOnly": true}, "card": {"title": "Card", "description": "Additional information for payment methods of type `card`", "type": "object", "readOnly": true, "x-nullable": true}}}, "SubscriptionPlan": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "name": {"title": "Name", "type": "string", "readOnly": true, "minLength": 1}, "slug": {"title": "Slug", "type": "string", "format": "slug", "pattern": "^[-a-zA-Z0-9_]+$", "readOnly": true, "minLength": 1}, "description": {"title": "Description", "type": "string", "readOnly": true, "minLength": 1}, "billing_period": {"title": "Billing period", "type": "string", "enum": ["monthly", "annual"], "readOnly": true}, "free_devices": {"title": "Free devices", "description": "Number of free devices included", "type": "integer", "readOnly": true}, "price_per_device": {"title": "Price per device", "description": "Price per device in GBP", "type": "string", "format": "decimal", "readOnly": true}, "tier_1_max": {"title": "Tier 1 max", "description": "Max devices for tier 1 pricing", "type": "integer", "readOnly": true}, "tier_1_price": {"title": "Tier 1 price", "description": "Price per device for tier 1", "type": "string", "format": "decimal", "readOnly": true}, "tier_2_max": {"title": "Tier 2 max", "description": "Max devices for tier 2 pricing", "type": "integer", "readOnly": true}, "tier_2_price": {"title": "Tier 2 price", "description": "Price per device for tier 2", "type": "string", "format": "decimal", "readOnly": true}, "tier_3_price": {"title": "Tier 3 price", "description": "Price per device for tier 3 (above tier 2 max)", "type": "string", "format": "decimal", "readOnly": true}, "is_active": {"title": "Is active", "type": "boolean", "readOnly": true}, "pricing_display": {"title": "Pricing display", "type": "string", "readOnly": true}}}, "LocalSubscription": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "status": {"title": "Status", "type": "string", "enum": ["trialing", "active", "past_due", "canceled", "unpaid"], "readOnly": true}, "device_count": {"title": "Device count", "type": "integer", "readOnly": true}, "current_period_start": {"title": "Current period start", "type": "string", "format": "date-time", "readOnly": true}, "current_period_end": {"title": "Current period end", "type": "string", "format": "date-time", "readOnly": true}, "trial_end": {"title": "Trial end", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "plan_details": {"title": "Plan details", "type": "string", "readOnly": true}, "organization_details": {"title": "Organization details", "type": "string", "readOnly": true}}}, "Device": {"required": ["description", "make", "model", "device_type"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "identifier": {"title": "Identifier", "type": "string", "readOnly": true, "minLength": 1}, "description": {"title": "Description", "type": "string", "minLength": 1}, "image": {"title": "Image", "type": "string", "readOnly": true, "x-nullable": true, "format": "uri"}, "organization": {"title": "Organization", "type": "integer", "x-nullable": true}, "make": {"title": "Make", "type": "string", "maxLength": 255, "minLength": 1}, "model": {"title": "Model", "type": "string", "maxLength": 255, "minLength": 1}, "device_type": {"title": "Device type", "type": "string", "enum": ["Battery", "Charger", "Adapter", "Cable", "Drill", "Saw", "Other"]}, "serial_number": {"title": "Serial number", "type": "string", "maxLength": 255, "x-nullable": true}, "maintenance_interval": {"title": "Maintenance interval", "type": "integer", "maximum": 2147483647, "minimum": -2147483648, "x-nullable": true}, "next_maintenance_date": {"title": "Next maintenance date", "type": "string", "format": "date", "x-nullable": true}, "created_by": {"title": "Created by", "type": "integer", "readOnly": true, "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "is_active": {"title": "Is active", "type": "boolean"}, "status": {"title": "Status", "type": "string", "enum": ["available", "assigned", "damaged", "stolen", "maintenance", "lost"]}, "location": {"title": "Location", "type": "integer"}}}, "DeviceAssignment": {"required": ["device_id"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "device": {"$ref": "#/definitions/Device"}, "device_id": {"title": "Device id", "type": "integer"}, "previous_assignment": {"title": "Previous assignment", "type": "integer", "readOnly": true, "x-nullable": true}, "user": {"title": "User", "type": "integer", "x-nullable": true}, "location": {"title": "Location", "type": "integer", "x-nullable": true}, "assigned_date": {"title": "Assigned date", "type": "string", "format": "date"}, "returned_date": {"title": "Returned date", "type": "string", "format": "date", "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "assigned_by": {"title": "Assigned by", "type": "integer", "readOnly": true}}}, "DevicePhotos": {"required": ["device"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "device": {"title": "Device", "type": "integer"}, "image": {"title": "Image", "type": "string", "readOnly": true, "format": "uri"}, "created_by": {"title": "Created by", "type": "integer", "readOnly": true, "x-nullable": true}, "report": {"title": "Report", "type": "integer", "x-nullable": true}, "reportable": {"title": "Reportable", "type": "boolean"}, "expiry": {"title": "Expiry", "type": "string", "format": "date", "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "Location": {"required": ["organization", "street_number", "street_name", "town_or_city", "postcode"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "organization": {"title": "Organization", "type": "integer"}, "building_name": {"title": "Building name", "type": "string", "maxLength": 100}, "name": {"title": "Name", "type": "string", "maxLength": 255, "minLength": 1}, "street_number": {"title": "Street number", "type": "string", "maxLength": 20, "minLength": 1}, "street_name": {"title": "Street name", "type": "string", "maxLength": 100, "minLength": 1}, "address_2": {"title": "Address 2", "type": "string", "maxLength": 100}, "town_or_city": {"title": "Town or city", "type": "string", "maxLength": 100, "minLength": 1}, "county": {"title": "County", "type": "string", "maxLength": 100}, "postcode": {"title": "Postcode", "type": "string", "maxLength": 8, "minLength": 1}, "is_active": {"title": "Is active", "type": "boolean"}, "created_by": {"title": "Created by", "type": "integer", "readOnly": true, "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "FeatureSuggestion": {"required": ["feature_description"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "feature_description": {"title": "Feature description", "description": "Description of the suggested feature", "type": "string", "minLength": 1}, "additional_feedback": {"title": "Additional feedback", "description": "Additional feedback or comments", "type": "string", "x-nullable": true}, "name": {"title": "Name", "description": "Name of the person submitting the suggestion", "type": "string", "maxLength": 100, "x-nullable": true}, "email": {"title": "Email", "description": "Email of the person submitting the suggestion", "type": "string", "format": "email", "maxLength": 254, "x-nullable": true}, "created_at": {"title": "Created at", "description": "Date and time when the suggestion was submitted", "type": "string", "format": "date-time", "readOnly": true}}}, "Organization": {"required": ["name"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "name": {"title": "Name", "type": "string", "maxLength": 255, "minLength": 1}, "trading_name": {"title": "Trading name", "type": "string", "maxLength": 255}, "company_number": {"title": "Company number", "type": "string", "pattern": "^[A-Z0-9]{8}$", "maxLength": 8}, "vat_number": {"title": "Vat number", "type": "string", "pattern": "^GB[0-9]{9}$", "maxLength": 11}, "email": {"title": "Email", "type": "string", "format": "email", "maxLength": 254}, "phone": {"title": "Phone", "type": "string", "pattern": "^\\+?1?\\d{9,15}$"}, "website": {"title": "Website", "type": "string", "format": "uri", "maxLength": 200}, "registered_address_line1": {"title": "Registered address line1", "type": "string", "maxLength": 255}, "registered_address_line2": {"title": "Registered address line2", "type": "string", "maxLength": 255}, "registered_city": {"title": "Registered city", "type": "string", "maxLength": 100}, "registered_county": {"title": "Registered county", "type": "string", "maxLength": 100}, "registered_postcode": {"title": "Registered postcode", "type": "string", "pattern": "^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$", "maxLength": 8}, "trading_address_line1": {"title": "Trading address line1", "type": "string", "maxLength": 255}, "trading_address_line2": {"title": "Trading address line2", "type": "string", "maxLength": 255}, "trading_city": {"title": "Trading city", "type": "string", "maxLength": 100}, "trading_county": {"title": "Trading county", "type": "string", "maxLength": 100}, "trading_postcode": {"title": "Trading postcode", "type": "string", "pattern": "^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$", "maxLength": 8}, "description": {"title": "Description", "type": "string"}, "invite_code": {"title": "Invite code", "type": "string", "readOnly": true, "minLength": 1}, "is_active": {"title": "Is active", "type": "boolean"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "owner": {"title": "Owner", "type": "integer", "readOnly": true}}}, "OrganizationMember": {"required": ["organization_id", "user"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "organization": {"$ref": "#/definitions/Organization"}, "organization_id": {"title": "Organization id", "type": "integer"}, "user": {"title": "User", "type": "integer"}, "user_first_name": {"title": "User first name", "type": "string", "readOnly": true, "minLength": 1}, "user_last_name": {"title": "User last name", "type": "string", "readOnly": true, "minLength": 1}, "role": {"title": "Role", "type": "string", "enum": ["site_worker", "office_worker", "admin", "owner"]}, "joined_at": {"title": "Joined at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "UserProfile": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "email": {"title": "Email address", "type": "string", "format": "email", "readOnly": true, "minLength": 1}, "first_name": {"title": "First name", "type": "string", "maxLength": 150}, "last_name": {"title": "Last name", "type": "string", "maxLength": 150}, "phone_number": {"title": "Phone number", "type": "string", "maxLength": 20, "x-nullable": true}, "push_notifications_enabled": {"title": "Push notifications enabled", "type": "boolean"}, "email_notifications_enabled": {"title": "Email notifications enabled", "type": "boolean"}, "has_completed_onboarding": {"title": "Has completed onboarding", "type": "boolean"}, "date_joined": {"title": "Date joined", "type": "string", "format": "date-time", "readOnly": true}, "password": {"title": "Password", "type": "string", "minLength": 1}, "password_confirm": {"title": "Password confirm", "type": "string", "minLength": 1}}}, "Report": {"required": ["device_id", "report_date", "description"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "device": {"$ref": "#/definitions/Device"}, "device_id": {"title": "Device id", "type": "integer"}, "report_date": {"title": "Report date", "type": "string", "format": "date"}, "type": {"title": "Type", "type": "string", "enum": ["DAMAGED", "STOLEN", "LOST", "MALFUNCTIONING", "MAINTENANCE", "OTHER"]}, "status": {"title": "Status", "type": "string", "enum": ["PENDING", "IN_PROGRESS", "RESOLVED", "CANCELLED", "ESCALATED"]}, "resolved": {"title": "Resolved", "type": "boolean"}, "resolved_date": {"title": "Resolved date", "type": "string", "format": "date", "x-nullable": true}, "description": {"title": "Description", "type": "string", "minLength": 1}, "created_by": {"title": "Created by", "type": "integer", "readOnly": true, "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}}}, "SupportRequest": {"required": ["name", "email", "subject", "message"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "name": {"title": "Name", "description": "Name of the person requesting support", "type": "string", "maxLength": 100, "minLength": 1}, "email": {"title": "Email", "description": "Email address for correspondence", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "subject": {"title": "Subject", "description": "Subject of the support request", "type": "string", "maxLength": 200, "minLength": 1}, "message": {"title": "Message", "description": "Detailed description of the issue or request", "type": "string", "minLength": 1}, "user": {"title": "User", "type": "string", "readOnly": true}, "organization": {"title": "Organization", "type": "string", "readOnly": true}, "status": {"title": "Status", "description": "Current status of the support request", "type": "string", "enum": ["new", "in_progress", "resolved", "closed"], "readOnly": true}, "priority": {"title": "Priority", "description": "Priority level of the request", "type": "string", "enum": ["low", "medium", "high", "urgent"], "readOnly": true}, "response": {"title": "Response", "description": "Support team's response to the request", "type": "string", "readOnly": true, "minLength": 1, "x-nullable": true}, "responded_at": {"title": "Responded at", "description": "Date and time when support responded", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "resolved_at": {"title": "Resolved at", "description": "Date and time when the issue was resolved", "type": "string", "format": "date-time", "readOnly": true, "x-nullable": true}, "created_at": {"title": "Created at", "description": "Date and time when the request was submitted", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "description": "Date and time of last update", "type": "string", "format": "date-time", "readOnly": true}}}}}
